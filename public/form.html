<!DOCTYPE html>
<html>
    <head>
        <script>
            function sendForm(submitType) {
                var form = document.getElementsByTagName("form")[0]; // get the form somehow
                if (submitType == 'route') {
                    var url = "/getrate"
                    for ( var i = 0; i < 2; i++ ) {
                        var e = form.elements[i];
                        url += "/" + e.value;
                    }
                    console.log(url);
                    window.location.href = url;
                    
                }
                else {
                    form.method="get";
                    form.submit();
                }
            }
        </script>



    </head>
<body>
<h2>Postage Form</h2>
<form action="/getrate" method="post">
    Weight: <input name="weight"><br>
    Mail Type:<select name="type">
        <option value="stamped">Letters (Stamped)</option>
        <option value="metered">Letters (Metered)</option>
        <option value="flats">Large Envelope (Flats)</option>
        <option value="first-class">First-Class Package Service - Retail</option>
    </select><br><br>
    <input type="submit" value="submit via post">
</form>
<button value="submit via get" onclick="sendForm('get')">submit via get</button> <br>
<button value="submit via route parameters" onclick="sendForm('route')">submit via route parameters</button>
</body>
</html>